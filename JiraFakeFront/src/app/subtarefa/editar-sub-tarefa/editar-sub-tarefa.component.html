<div class="container" style="margin-top: 100px;">
    <h1 class="text-center">Editar Sub Tarefa</h1>
    
    <a href="" [routerLink]="['/tarefa/', tarefaId, 'detalhes']" class="btn btn-dark mb-3">Voltar</a>

    <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="alert alert-danger" *ngIf="errors.length > 0">
            <h3 id="msgRetorno">Opa! Alguma coisa não deu certo:</h3>
            <ul>
                <li *ngFor="let error of errors">{{ error }}</li>
            </ul>
        </div>
        <div class="form-group">
            <input type="hidden"  id="{{tarefaId}}" formControlName="tarefaId" class="form-control" [(ngModel)]="tarefaId" readonly>
          </div>
        <div class="form-group">
            <input type="hidden"  id="{{id}}" formControlName="id" class="form-control" [(ngModel)]="id" readonly>
          </div>



          <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="Nome">Nome</label>
                    <input type="text" id="nome" formControlName="nome" class="form-control" placeholder="Nome é obrigatório">
                    <div *ngIf="formulario['nome'].touched && formulario['nome'].invalid" class="text-danger">
                        <div *ngIf="formulario['nome'].errors && formulario['nome'].errors['required']">Nome é obrigatório</div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="Status">Status</label>
                    <select id="status" formControlName="status" class="form-control form-select">
                        <option *ngFor="let option of statusOptions" [ngValue]="option.id">{{option.label}}</option>
                    </select>
                </div>
            </div>
        </div>

    <div class="form-group mt-3">
        <label for="Descricao">Descrição</label>
        <textarea  id="descricao" formControlName="descricao" class="form-control" placeholder="Descrição é obrigatório"></textarea>
        <div *ngIf="formulario['descricao'].touched && formulario['descricao'].invalid" class="text-danger">
            <div *ngIf="formulario['descricao'].errors && formulario['descricao'].errors['required']" >Descrição é obrigatório</div>
        </div>    
    </div>

    <button class="btn btn-info mt-3" type="submit" [disabled]="!form.valid">Salvar</button>

    </form>
</div>

